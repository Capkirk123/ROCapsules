PART
{
	name = ROC-D2Antenna
	module = Part
	author = Mcdouble, Vader111

	RSSROConfig = True

	//	============================================================================
	//	Model and Dimensions
	//	============================================================================

	MODEL
	{
		model = ROCapsules/Assets/McDouble/D2/D2Antenna
	}

	scale = 1
	rescaleFactor = 1.0

	node_attach = 0.0, -0.09, 0.0, 0.0, -1.0, 0.0

	attachRules = 1,1,0,0,1

	//	============================================================================
	//	Title, Description, Category, Techs
	//	============================================================================

	TechRequired = unlockParts
	cost = 150
	entryCost = 1
	category = Communication
	subcategory = 0

	title = D-2 High Gain Antenna
	manufacturer = Dalmo Victor Co
	description = Deployable dish antenna inside aerodynamic fairing.
	tags = D2, apollo, GE

	bulkheadProfiles = srf

	//	============================================================================
	//	Thermo, Durability
	//	============================================================================

	mass = 0.03
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 7
	breakingForce = 250
	breakingTorque = 250
	maxTemp = 673.15
	skinMaxTemp = 773.15

	//	============================================================================
	//	Comms
	//	============================================================================

	MODULE
	{
		name = ModuleAnimateGeneric
		animationName = extend
		isOneShot = false
		startEventGUIName = Extend Antenna
		endEventGUIName = Retract Antenna
		actionGUIName = Toggle Antenna
		allowAnimationWhileShielded = False
	}

	MODULE:NEEDS[!RemoteTech]
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 1.0
		packetSize = 2.0
		packetResourceCost = 0.04
		requiredResource = ElectricCharge
		DeployFxModules = 0
		antennaPower = 14400
		antennaCombinable = True
		antennaCombinableExponent = 2.0
	}

	MODULE:NEEDS[RemoteTech]
    {
        name = ModuleSPUPassive
    }
	
	MODULE:NEEDS[RemoteTech]
    {
        name = ModuleRTAntenna
        ActionMode0Name = Deactivate HGA
        ActionMode1Name = Activate HGA
        IsRTActive = False
        Mode0DishRange = 0
        Mode1DishRange = 600000
        DishAngle = 11.0
        EnergyCost = 0.02
        DeployFxModules = 0

        TRANSMITTER
        {
            PacketInterval = 1.0
            PacketSize = 2.048
            PacketResourceCost = 0.02
        }
    }
}

@PART[ROC-D2Antenna]:BEFORE[RealAntennas]:NEEDS[RealAntennas]
{
	!MODULE[ModuleDataTransmitter],* {}
	MODULE
	{
		name = ModuleRealAntenna
		antennaDiameter = 1.8	//Antenna diameter based on combined area of 4 dishes
		RFBand = S	//Default to S-band
	}
}
